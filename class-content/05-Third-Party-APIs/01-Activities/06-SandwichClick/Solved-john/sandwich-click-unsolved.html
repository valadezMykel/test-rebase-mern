<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Trigger Clicked</title>

    <!-- Added link to the jQuery Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  </head>

  <body>
    <h1>Click to Eat Sandwich</h1>
    <h3 id="pbj">Peanut Butter Jelly</h3>
    <h3 id="grilledcheese">Grilled Cheese</h3>
    <h3 id="roastbeef">Roast Beef</h3>

    <div id="image-div"></div>

    <script type="text/javascript">
      // This document.ready isn't necessary in this example... but is needed in cases where the HTML is complex.
      // This code makes sure that the JavaScript doesn't get run until the HTML is finished loading
      // It's useful to become familiar with now.

      $(document).ready(function () {
        // VARIABLES
        // ====================================================================
        // Here we create variables for tracking the number of sandwiches eaten
        // ...

        var data = [
          {
            elId: "pbj",
            count: 0,
            comment: "Ew. Sticky and sweet",
            label: "PBJ",
            imgUrl:
              "https://i1.wp.com/snotapwi.com/wp-content/uploads/2017/03/PBJ-Sandwiches.jpg?resize=590%2C368&ssl=1",
          },
          {
            elId: "grilledcheese",
            count: 0,
            comment: "Cheesy goodness",
            label: "Grilled Cheese",
            imgUrl:
              "http://cdn.funcheap.com/wp-content/uploads/2014/04/The-Perfect-Grilled-Cheese-Sandwich-800-158111.jpg",
          },
          {
            elId: "roastbeef",
            count: 0,
            comment: "No vegans here.",
            label: "Roast Beef",
            imgUrl:
              "https://www.cscassets.com/recipes/wide_cknew/wide_25336.jpg",
          },
        ];

        // ...

        // FUNCTIONS
        // ====================================================================
        // Here we create various on "click" functions which capture the clicks
        // Inside each click event is the code to create an alert, update the counter, then show the updated count.
        // ...

        function setImg(url, elID) {
          console.log("url", url);
          var imgEl = $("<img>");
          imgEl.attr("src", url);
          $("#" + elID)
            .html("")
            .append(imgEl);
        }

        function createClickHandler(sandwichObject, imgElId) {
          $("#" + sandwichObject.elId).on("click", function () {
            alert(sandwichObject.comment);
            sandwichObject.count++;
            alert(sandwichObject.label + "'s eaten:" + sandwichObject.count);
            setImg(sandwichObject.imgUrl, imgElId);
          });
        }

        // for (var i = 0; i < data.length; i++) {
        //   createClickHandler(data[i], "image-div");
        // }

        $.each(data, function (i, obj) {
          createClickHandler(obj, "image-div");
        });

        // ...
      });
    </script>
  </body>
</html>
